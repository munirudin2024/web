1. Langkah instalasi posgresql di codespace
# Update package list
sudo apt update
# Install prerequisites
sudo apt install -y wget ca-certificates
# Add PostgreSQL official APT repository
wget --quiet -O - https://www.postgresql.org/media/keys/ACCC4CF8.asc | sudo apt-key add -
echo "deb http://apt.postgresql.org/pub/repos/apt/ $(lsb_release -cs)-pgdg main" | sudo tee /etc/apt/sources.list.d/pgdg.list
# Update package list again
sudo apt update

2. Install PostgreSQL:
# Install PostgreSQL (latest version)
sudo apt install -y postgresql postgresql-contrib
# Install PostgreSQL client tools
sudo apt install -y postgresql-client

3. Cek service PostgreSQL:
# Cek semua services
service --status-all
# Start PostgreSQL service
sudo service postgresql status
sudo service postgresql start
sudo service postgresql stop

4. Cek versi dan test connection:
# Cek versi PostgreSQL
psql --version
# Cek .NET version
psql --version && echo "---" && dotnet --version
# Test PostgreSQL berjalan
sudo -i
sudo service postgresql start
sudo -u postgres psql -c "SELECT version();"
--------------------------------------------
Alternative: Manual Start PostgreSQL
jika sudo service postgresql start tidak berfungsi ,coba manual:
# Start PostgreSQL cluster
sudo pg_ctlcluster 17 main start
# Cek cluster status
pg_lsclusters
# Test connection
sudo -u postgres psql

5. Jika tidak tahu pasword codespace standart
# 1. reset pasword codespace
sudo passwd codespace

6. Quick Setup Database
# 1. Set password postgres user
sudo -u postgres psql -c "ALTER USER postgres PASSWORD 'pasword123';"
# 2. Create database untuk portfolio
sudo -u postgres createdb todolist
# 3. Test connection
sudo -u postgres psql -l
# masuk ke database
sudo -u postgres psql
\c todolist
# membuat tabel
CREATE TABLE kelas (
    id SERIAL PRIMARY KEY,
    nama TEXT NOT NULL,
    lulus BOOLEAN DEFAULT FALSE
);
# cek tabel
\dt
# memasukan data
INSERT INTO kelas (nama, lulus) VALUES
('muhammad', false),
('munirudin', false);
# lihat isi tabel
SELECT * FROM kelas;
# tamabah kolom baru
alter table kelas add column umur integer;
#hapus database
drop database nama_database;
#hapus table
drop table nama_table;
# hapus data
delete from kelas where nama 'nicolas';
DELETE FROM kelas WHERE id = 1;
DELETE FROM kelas WHERE id IN (1, 2, 3, 4, 5);

# update data cara 1
update kelas set umur = 20 where nama 'muhammad';
# update data cara 2
update kelas
set umur = 20
where nama in 
(
'muhammad',
'munirudin',
'nicolas'
);
# update data cara 3
update kelas
set umur = 20
where id betwen 1 and 3;
# update semua yang belum punya umur
UPDATE kelas
SET umur = 20
WHERE umur IS NULL;
